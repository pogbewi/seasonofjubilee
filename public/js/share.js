!function(t){"use strict";t.fn.customShareCount=function(n){function o(t){return void 0===t?t=0:t}var e=t.extend({},t.fn.customShareCount.defaults,n);return this.on("click","a",function(){return window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}),this.each(function(){var n=t(this).attr("data-url"),i=t(this).attr("data-title"),r=t(this).attr("data-hash"),a=t(this).find(".facebook-count"),l=t(this).find(".linkedin-count"),s=t(this).find(".twitter-count"),c=t(this).find(".google-count"),h=t(this).find(".total-count"),u=0,d=0,f=0,k=0,g={placeHref:function(t,n){t.attr("href",n)},loadJson:function(n,o,i,r,a){t.ajax({url:o,cache:!0,type:"POST",dataType:"jsonp",data:{url:n},success:function(t){e.showCounts===!0&&(void 0===t[i]?r.text(g.convertK(0)):r.text(g.convertK(t[i]))),a(t)}})},total:function(){e.showTotal===!0&&h.text(g.convertK(o(d)+o(u)+o(f)+o(k)))},convertK:function(t){return t>999?(t/1e3).toFixed(1)+"k":t},facebook:{jsonUrl:"http://graph.facebook.com/?id="+n,linkUrl:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(n),linkTarget:t(this).find("a.facebookBtn"),load:function(){g.placeHref(this.linkTarget,this.linkUrl),g.loadJson(n,this.jsonUrl,"shares",a,function(t){d=t.shares,g.total()})}},linkedin:{jsonUrl:"https://www.linkedin.com/countserv/count/share?url="+n,linkUrl:"http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(n),linkTarget:t(this).find("a.linkedinBtn"),load:function(){g.placeHref(this.linkTarget,this.linkUrl),g.loadJson(n,this.jsonUrl,"count",l,function(t){u=t.count,g.total()})}},twitter:{jsonUrl:"http://avigher.com/count.json?url="+n,linkUrl:"http://twitter.com/intent/tweet?text="+i+" "+n+"&amp;via="+e.twitterUsername+" %23"+r+"&amp;source=webclient",linkTarget:t(this).find("a.twitterBtn"),load:function(){g.placeHref(this.linkTarget,this.linkUrl),g.loadJson(n,this.jsonUrl,"count",s,function(t){f=t.count,g.total()})}},google:{jsonUrl:"https://count.donreach.com/",linkUrl:"https://plus.google.com/share?url="+encodeURIComponent(n),linkTarget:t(this).find("a.googleBtn"),load:function(){g.placeHref(this.linkTarget,this.linkUrl),g.loadJson(n,this.jsonUrl,"shares",c,function(t){e.showCounts===!0&&c.text(g.convertK(t.shares.google)),k=t.shares.google,g.total()})}}};e.facebook===!0&&g.facebook.load(),e.linkedin===!0&&g.linkedin.load(),e.twitter===!0&&g.twitter.load(),e.google===!0&&g.google.load()})},t.fn.customShareCount.defaults={twitter:!0,facebook:!0,linkedin:!0,google:!0,twitterUsername:"",showCounts:!1,showTotal:!0}}(jQuery);
